(function(){"use strict";var e={8624:function(e,t,n){n(6992),n(8674),n(9601),n(7727);var r=n(8935),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-toolbar-title",{staticClass:"ml-3"},[e._v("SNYK Demo")])],1),n("v-spacer")],1),n("v-main",[n("router-view")],1)],1)},a=[],i={name:"App",data:function(){return{}}},s=i,c=n(1001),l=(0,c.Z)(s,o,a,!1,null,null,null),u=l.exports,d=n(2809),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-row",[n("v-col",{staticClass:"mx-auto",attrs:{cols:"6"}},[n("br"),n("br"),n("v-row",{staticClass:"text-center"},[n("v-text-field",{attrs:{label:"FL0 Bearer Token",type:"text","prepend-icon":"mdi-lock"},on:{change:e.refresh_org_list},model:{value:e.bearer_token,callback:function(t){e.bearer_token=t},expression:"bearer_token"}})],1),n("v-row",[n("v-select",{attrs:{items:e.organizations,label:"Organization","item-text":"name","item-value":"id"},on:{change:e.fetchProjects},scopedSlots:e._u([e.is_org_loading?{key:"selection",fn:function(){return[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"16"}})]},proxy:!0}:null],null,!0),model:{value:e.selected_org,callback:function(t){e.selected_org=t},expression:"selected_org"}})],1)],1)],1),n("div",{staticClass:"d-flex align-center justify-center",staticStyle:{width:"100%"}},[e.selected_project?n("v-btn",{staticClass:"success",on:{click:e.scanProject}},[e._v(" Scan Project ")]):e._e()],1),n("v-row",{staticStyle:{width:"100%",height:"70vh"}},[n("v-col",{attrs:{cols:"3"}},[n("h3",[e._v("Projects")]),e.is_proj_loading?[n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"primary"}})]:[n("br"),n("hr"),n("br"),e._l(e.projects,(function(t,r){return n("div",{key:r},[n("v-btn",{class:e.selected_project&&t.id===e.selected_project.id?"primary":"",attrs:{text:"",small:"",width:"100%"},on:{click:function(n){return e.selectProject(t)}}},[e._v(" "+e._s(t.name)+" ")]),n("br"),n("br")],1)})),0===e.projects.length?[n("v-alert",{staticClass:"ma-0",attrs:{value:!0,type:"info",border:"left"}},[e._v(" Please select an organization. ")])]:e._e()]],2),n("v-col",{attrs:{cols:"4"}},[n("h3",[e._v("Dependencies")]),n("br"),n("hr"),n("br"),n("v-data-table",{attrs:{headers:e.headers,items:e.items}},[n("template",{slot:"no-data"},[e.is_deps_loading?[n("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})]:e.selected_project?[n("v-alert",{staticClass:"ma-0",attrs:{value:!0,type:"info",icon:"mdi-information",border:"left"}},[e._v(" No dependencies found. ")])]:[n("v-alert",{staticClass:"ma-0",attrs:{value:!0,type:"info",border:"left"}},[e._v(" Please select a project. ")])]],2)],2)],1),n("v-col",[n("h3",[e._v("Scan Results")]),n("br"),n("hr"),n("br"),n("div",[e.project_scanned?e.vulns.length>0?n("v-card",[n("v-card-title",[n("span",{staticClass:"subheading"},[e._v("Vulnerabilities found")])]),n("v-card-text",[n("v-data-table",{attrs:{dense:"","disable-pagination":"","hide-default-footer":"",headers:e.vuln_headers,items:e.vulns}})],1)],1):e.vulns_done_loading?n("v-card",[n("v-card-title",[n("span",{staticClass:"subheading"},[e._v("No vulnerabilities found")])])],1):e._e():n("v-card",[n("v-alert",{staticClass:"ma-0",attrs:{value:!0,type:"info",border:"left"}},[e._v(" Please select a project and click Scan Project. ")])],1)],1)])],1)],1)},v=[],p=(n(1539),n(4747),n(2222),n(8309),n(1249),n(6166)),_=n.n(p),h={name:"HomeView",components:{},data:function(){return{bearer_token:"",workspace_id:"",selected_org:null,organizations:[],projects:[],selected_project:null,project_scanned:!1,is_org_loading:!1,is_deps_loading:!1,is_proj_loading:!1,is_vulns_loading:!1,vulns_done_loading:!0,vulns:[],vuln_headers:[{text:"Package",value:"package"},{text:"Severity",value:"severity"},{text:"Title",value:"title"},{text:"Fixed in",value:"fixedIn"}],headers:[{value:"name",text:"Name"},{value:"version",text:"Version"}],items:[]}},mounted:function(){this.bearer_token=localStorage.getItem("bearer_token"),this.refresh_org_list()},methods:{refresh_org_list:function(){var e=this;this.is_org_loading=!0,_().get("https://portal.fl0.com/api/me",{headers:{Authorization:"".concat(this.bearer_token)}}).then((function(t){localStorage.setItem("bearer_token",e.bearer_token),e.organizations=t.data.organizations,e.is_org_loading=!1})).catch((function(e){console.log(e)}))},fetchProjects:function(){var e=this;this.selected_org&&(this.is_proj_loading=!0,_().get("https://portal.fl0.com/api/me/organizations/".concat(this.selected_org,"/workspaces"),{headers:{Authorization:"".concat(this.bearer_token)}}).then((function(t){e.projects=t.data.workspaces,e.is_proj_loading=!1})).catch((function(t){console.log(t),e.is_proj_loading=!1})))},selectProject:function(e){this.selected_project=e,this.fetchDependencies(),this.project_scanned=!1},fetchDependencies:function(){var e=this;this.selected_project&&(this.is_deps_loading=!0,_().get("https://portal.fl0.com/api/workspaces/".concat(this.selected_project.id,"/nodeServer"),{headers:{Authorization:"".concat(this.bearer_token)}}).then((function(t){e.items=t.data.npmPackages,e.is_deps_loading=!1})).catch((function(t){e.is_deps_loading=!1,console.log(t)})))},scanProject:function(){var e=this;this.selected_project&&(this.is_vulns_loading=!0,this.vulns_done_loading=!1,this.items.forEach((function(t){_().get("https://api.fl0.com/eliastest/uat/snyktest/flows/scan?name=".concat(t.name,"&version=").concat(t.version)).then((function(t){var n=t.data.map((function(e){return{package:"".concat(e.name,"@").concat(e.version),severity:e.severityWithCritical,title:e.title,fixedIn:e.fixedIn?e.fixedIn:""}}));e.vulns=e.vulns.concat(n),e.is_vulns_loading=!1})).catch((function(e){console.log(e)})).finally((function(){e.vulns_done_loading=!0}))})),this.project_scanned=!0)}},watch:{bearer_token:function(e){localStorage.setItem("bearer_token",e)},workspace_id:function(e){localStorage.setItem("workspace_id",e)}}},g=h,m=(0,c.Z)(g,f,v,!1,null,null,null),b=m.exports;r["default"].use(d.Z);var y=[{path:"/",name:"home",component:b}],j=new d.Z({mode:"history",base:"/snyk-demo/",routes:y}),k=j,w=n(4665);r["default"].use(w.ZP);var x=new w.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),P=n(8209),S=n.n(P);n(243);r["default"].use(S());var C=new(S())({theme:{themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}});r["default"].config.productionTip=!1,new r["default"]({router:k,store:x,vuetify:C,render:function(e){return e(u)}}).$mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(c)var u=c(n)}for(t&&t(r);l<i.length;l++)a=i[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunksnyk_demo"]=self["webpackChunksnyk_demo"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8624)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.0fdd76a6.js.map